<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="55f1054e-02f0-4db1-84e3-61a6ade1f9ce" activeEnvironment="Default" name="sqlrestHomeTask" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="ddca95d4-83ac-425c-8597-3e53d217cd4d" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://www.thomas-bayer.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://www.thomas-bayer.com</con:endpoint></con:endpoints><con:resource name="PRODUCT" path="/sqlrest/PRODUCT/{id}" id="a66c5202-f7c2-442c-ba16-99e1241a45fa"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="PRODUCT" id="cd995787-95c0-4c57-b496-699e36dae844" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>PRODUCTList</con:element></con:representation><con:request name="Request 1" id="4f85bb3a-dcd1-499f-97ab-e79b4c679a90" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Create" id="7d88e4a4-bf97-4437-afa4-957eebb741ca" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/><con:element>resource</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>201</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="Request 1" id="f2cd7cff-7b41-40ce-8c8d-3b234068907d" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request><![CDATA[<resource>
<ID>8888</ID>
<NAME>Ivan</NAME>
<PRICE>1000</PRICE>
</resource>]]></con:request><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="CheckCreate" id="f2b8d3b0-eaea-4bd1-b9f5-f07aa429507d" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>PRODUCT</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="15784a56-0a12-41a2-bf13-5575de89b298" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="8888" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method><con:method name="Delete" id="bf012983-8974-4a78-b131-b8c48044904f" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>resource</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="294f24fd-84a7-4a88-850f-86922d0f346e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="8888" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method><con:method name="CheckDelete" id="8bec0580-513a-4409-b86d-fb64909305a9" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html;charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="Request 1" id="b75ebe26-d4cd-43ef-b444-866a92c44080" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="8888" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:request></con:method></con:resource></con:interface><con:testSuite id="f70a78df-dbe5-4349-b434-0e1377e51d49" name="http://www.thomas-bayer.com TestSuite"><con:description>TestSuite generated for REST Service [http://www.thomas-bayer.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="3ec06f66-e447-46b6-8101-bf6093b8f36a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="PRODUCT TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [PRODUCT] located at [/sqlrest/PRODUCT/{id}]</con:description><con:settings/><con:testStep type="restrequest" name="getAll" id="2a55c561-65ee-4a92-a198-2870ad8ec19e"><con:settings/><con:config service="http://www.thomas-bayer.com" resourcePath="/sqlrest/PRODUCT/{id}" methodName="PRODUCT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getAll" id="4f85bb3a-dcd1-499f-97ab-e79b4c679a90" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="randomID" id="4f499164-dd1e-48f5-b3bc-585330f22e3d"><con:settings/><con:config><script>def randomID = (int)Math.random()*2000+10000
log.info(randomID)
context.testCase.setPropertyValue( "ID", randomID.toString())</script></con:config></con:testStep><con:testStep type="restrequest" name="Create" id="391b93e3-0b4c-4e67-add9-d6ba678258d3"><con:settings/><con:config service="http://www.thomas-bayer.com" resourcePath="/sqlrest/PRODUCT/{id}" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create" id="f2cd7cff-7b41-40ce-8c8d-3b234068907d" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request><![CDATA[<resource>
<ID>${#TestCase#ID}</ID>
<NAME>${#TestCase#NAME}</NAME>
<PRICE>${#TestCase#PRICE}</PRICE>
</resource>]]></con:request><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/</con:originalUri><con:assertion type="GroovyScriptAssertion" id="bf6975dd-ae64-4959-9dd2-5891d5ce3c2f" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

responseContent = context.testCase.getTestStepByName("Create").getPropertyValue("response")
log.info(responseContent)
//slurperresponse = new JsonSlurper().parseText(responseContent)
//log.info(slurperresponse.serviceTypes.size)

assert responseContent == null</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="CheckCreate" id="31f1b6d8-fe76-4f32-9cd5-22c34e9e22cc"><con:settings/><con:config service="http://www.thomas-bayer.com" resourcePath="/sqlrest/PRODUCT/{id}" methodName="CheckCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckCreate" id="15784a56-0a12-41a2-bf13-5575de89b298" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:assertion type="GroovyScriptAssertion" id="3c5cac1c-a416-48ae-8a2a-99e73d916610" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

def groovyUtils=new com.eviware.soapui.support.GroovyUtils(context)
responseContent = context.testCase.getTestStepByName("CheckCreate").getPropertyValue("response")
def result = new XmlParser().parseText(responseContent)  
assert result["ID"].text() ==  context.testCase.getPropertyValue( "ID" )
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${#TestCase#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete" id="a10d3495-1276-4614-8859-ff79c0c3e8fe"><con:settings/><con:config service="http://www.thomas-bayer.com" resourcePath="/sqlrest/PRODUCT/{id}" methodName="Delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete" id="294f24fd-84a7-4a88-850f-86922d0f346e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:assertion type="GroovyScriptAssertion" id="7a561960-12c7-406d-871b-1f349b4e5dbe" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

responseContent = context.testCase.getTestStepByName("Delete").getPropertyValue("response")

def result = new XmlParser().parseText(responseContent)  
log.info(result["deleted"].text())
assert result["deleted"].text() ==  context.testCase.getPropertyValue( "ID" )
 </scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${#TestCase#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="CheckDelete" id="29b696e3-b67c-4b42-bcbc-75ba2b45bab7"><con:settings/><con:config service="http://www.thomas-bayer.com" resourcePath="/sqlrest/PRODUCT/{id}" methodName="CheckDelete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="CheckDelete" id="b75ebe26-d4cd-43ef-b444-866a92c44080" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://www.thomas-bayer.com</con:endpoint><con:request/><con:originalUri>http://www.thomas-bayer.com/sqlrest/PRODUCT/8888</con:originalUri><con:assertion type="GroovyScriptAssertion" id="47ecaf4c-8a97-4a01-a72e-311c3d8fb2af" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper

responseContent = context.testCase.getTestStepByName("CheckDelete").getPropertyValue("response")
log.info(responseContent.indexOf("404"))
assert responseContent.indexOf("404")>0
//def result = new XmlParser().parseText(responseContent)  
//log.info(result["deleted"].text())
//assert result["deleted"].text() == "8888"
 </scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${#TestCase#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties><con:property><con:name>ID</con:name><con:value>10999</con:value></con:property><con:property><con:name>NAME</con:name><con:value>JAKE</con:value></con:property><con:property><con:name>PRICE</con:name><con:value>88.99</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>ID</con:name><con:value>999</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>